{"version":3,"sources":["components/SideBar.js","components/NavBar.js","components/HomeSeachResult.js","components/MapContainer.js","config.js","components/HomePage.js","components/Signup.js","components/Login.js","components/PatientProfile.js","components/PatientAppointments.js","components/PatientMedPlanner.js","components/event-utils.js","components/DoctorProfile.js","components/DoctorCalendar.js","components/AppointmentDetails.js","components/PrescriptionItem.js","components/PrescriptionForm.js","components/CreatePrescription.js","App.js","serviceWorker.js","index.js"],"names":["SideBar","this","props","usertype","loggedInUser","username","to","onClick","onLogout","className","_id","Component","NavBar","src","alt","HomeSeachResult","doctorList","map","doctor","picture","speciality","city","openingTime","closingTime","async","defer","type","MapContainer","google","zoom","style","width","height","initialCenter","lat","lng","position","API_URL","GoogleApiWrapper","process","HomePage","state","doctors","filteredDoctors","specialityQuery","cityQuery","handleChange","e","docSearch","currentTarget","name","docSearchValue","value","setState","handleSearch","console","log","searchResult","filter","toLowerCase","includes","axios","get","then","res","data","onChange","placeholder","Signup","passwordStrength","displayError","onSubmit","onSignUp","for","onClear","onPass","errorMsg","Login","onLogIn","PatientProfile","patient","updatedField","editing","unedited","handleEnable","buttons","getElementsByTagName","readOnly","classList","toggle","field","handleDisable","handleEdit","d","keyName","Object","keys","values","patch","withCredentials","birthDate","weight","allergies","history","phoneNumber","address","email","id","autocomplete","document","getElementById","PatientAppointments","appointments","report","handleDownload","appointmentId","preventDefault","window","open","ordered","JSON","parse","stringify","sort","a","b","moment","time","appointment","timeToApp","dateApp","local","format","timeApp","Date","now","toNow","fromNow","reason","isBefore","disabled","PatientMedPlanner","currentday","Axios","filteredmeds","prescriptions","prescription","medications","flat","medication","endDate","startDate","diff","daysPerTake","currentmeds","subtract","toString","add","previousDay","nextDay","med","takesPerDay","dosePerTake","comments","eventGuid","createEventId","String","DoctorProfile","weekendsVisible","currentEvents","events","match","params","doctorId","handleImgEnable","handleImgEdit","uppicture","image","files","uploadData","FormData","append","post","handleDateSelect","selectInfo","startStr","view","calendar","unselect","alert","calendarApi","end","start","title","prompt","addEvent","endStr","startEditable","editable","handleEventClick","clickInfo","event","extendedProps","isAfter","confirm","remove","handleEvents","appoCreate","eventId","appoEdit","appoCancel","delete","eventColor","proper","color","phone","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","momentPlugin","headerToolbar","left","center","right","initialView","titleFormat","selectable","selectMirror","dayMaxEvents","allDaySlot","eventStartEditable","slotMinTime","slotMaxTime","businessHours","daysOfWeek","startTime","endTime","eventConstraint","weekends","select","eventContent","renderEventContent","eventClick","eventsSet","eventAdd","eventChange","eventRemove","defaultTimedEventDuration","eventInfo","timeText","DoctorCalendar","push","eventDurationEditable","AppointmentDetails","cancelAppointment","toggleLoader","loadReport","PrescriptionItem","onDelete","PrescriptionForm","onCommit","min","toLocaleString","rows","cols","CreatePrescription","handleSubmit","newMedication","clonePrescription","handleDelete","newPrescription","index","handleCreate","catch","err","key","App","desiredUrl","handleSignUp","password","response","errorMessage","handleLogIn","location","pathname","error","handleLogOut","handlePass","strength","lowerCase","RegExp","upperCase","number","especial","amount","test","clearError","exact","path","render","doctorList1","routeProps","React","withRouter","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.76ba9711.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nexport default class SideBar extends Component {\r\n\r\n    render() {\r\n\r\n\r\n\r\n        if (this.props.usertype === \"patient\"){\r\n            return (\r\n                <>    \r\n                    <nav>\r\n                        <h4>Patient: {this.props.loggedInUser.username}</h4>\r\n                        <ul>\r\n                            <li><Link to=\"/\">Search for a doctor</Link></li>\r\n                            <li><Link to=\"/profile\">Profile</Link></li>\r\n                            <li><Link to=\"/appointments\">Appointments</Link></li>\r\n                            <li><Link to=\"/medication-planner\">Medication planner</Link></li>                                  \r\n                        </ul>\r\n                        <button onClick={this.props.onLogout} className=\"button\">LOG OUT</button>\r\n                    </nav>                   \r\n                </>\r\n            )\r\n\r\n\r\n        } else if (this.props.usertype === \"doctor\"){\r\n            return (\r\n                <>\r\n                    <nav>\r\n\r\n                        <h4>Doctor: {this.props.loggedInUser.username}</h4>\r\n\r\n                        <ul>\r\n                            <li><Link to=\"/calendar\">Calendar</Link></li>\r\n                            <li><Link to={`/doctor/${this.props.loggedInUser._id}`}>Profile</Link></li>\r\n                            <li><Link to=\"/\">Search for a doctor</Link></li>\r\n                        </ul>\r\n                        <button onClick={this.props.onLogout} className=\"button\">LOG OUT</button>  \r\n                    </nav>                   \r\n                </>                \r\n            )\r\n\r\n            \r\n        } else if (!this.props.loggedInUser){\r\n            return (\r\n                <>\r\n                    <nav>                    \r\n                        <Link to=\"/signup\"><button className=\"button\">SIGN UP</button></Link>\r\n                        <Link to=\"/login\"><button className=\"button\">LOG IN</button></Link>                    \r\n                    </nav>  \r\n                </>\r\n            )\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nexport default class NavBar extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <header>\r\n\r\n                    <Link to=\"/\"><img src=\"../images/logo-transparent.png\" alt=\"logo\" className=\"header-logo\"/></Link> \r\n\r\n                </header>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\n\r\nexport default class HomeSeachResult extends Component {\r\n    render() {\r\n        return (\r\n\r\n\r\n            <div className=\"main-content\">\r\n\r\n                {\r\n                    this.props.doctorList.map((doctor) => {\r\n                        return  (\r\n                            <div className=\"home-doctor-card\">\r\n\r\n                                <img className=\"doc-img\" src={doctor.picture} alt=\"profile picture\"/>\r\n                                <div className=\"search-doc-details-text\">\r\n                                    <p><strong>{doctor.username}</strong></p>\r\n                                    <p>{doctor.speciality}</p>\r\n                                    <p><em>{doctor.city}</em></p>\r\n                                    <p>From {doctor.openingTime} to {doctor.closingTime}</p>\r\n                                </div>                                \r\n\r\n                                <Link to={`/doctor/${doctor._id}`}>\r\n                                <button className=\"button\">Book an appointment</button>\r\n                                </Link>\r\n\r\n                            </div>\r\n\r\n                        )\r\n                              \r\n                    })\r\n                }\r\n\r\n                <script async defer src=\"https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap\" type=\"text/javascript\"></script>\r\n                \r\n            </div>\r\n\r\n                \r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport googleMapStyle from \"../googleMapStyle\";\r\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\r\n\r\n\r\n\r\nexport class MapContainer extends Component {\r\n  render() {\r\n\r\n    // state = {\r\n    //   mapPlaces: []\r\n    // }\r\n\r\n\r\n    const mapStyles = {\r\n      width: '350px',\r\n      height: '200px'\r\n    };\r\n\r\n    return (\r\n    <>\r\n\r\n\r\n      <div className=\"map-card\">\r\n\r\n        <Map\r\n          google={this.props.google}\r\n          zoom={10}\r\n          style={mapStyles}\r\n          initialCenter={{ lat: 52.372471, lng: 4.890983}}\r\n        >\r\n\r\n          <Marker position={{ lat: 52.370292, lng: 4.897403}} />\r\n\r\n        </Map>\r\n        \r\n      </div>\r\n\r\n    </>\r\n    )\r\n  }\r\n}\r\n\r\n// Map.defaultProps = googleMapStyle;\r\n\r\n\r\nexport default GoogleApiWrapper({\r\n})(MapContainer);\r\n\r\n\r\n","\r\n\r\n//to be modified if needed, check w/ Rafa\r\n\r\nexport const API_URL =  process.env.REACT_APP_API_URL","import React, { Component } from 'react'\r\nimport HomeSeachResult from './HomeSeachResult'\r\n\r\n\r\nimport MapContainer from './MapContainer'\r\nimport { Map, GoogleApiWrapper } from 'google-maps-react';\r\n\r\nimport {API_URL} from '../config'\r\nimport axios from 'axios'\r\n\r\nexport default class HomePage extends Component {\r\n\r\n    state = {\r\n        doctors: [],\r\n        filteredDoctors: [],\r\n        specialityQuery: \"\",\r\n        cityQuery: \"\"\r\n        \r\n    }\r\n\r\n\r\n\r\n    componentDidMount(){\r\n        axios.get(`${API_URL}/doctor/search`)\r\n            .then((res) => {\r\n            this.setState({\r\n                doctors: res.data,\r\n                filteredDoctors: res.data\r\n            })\r\n        })\r\n    } \r\n    \r\n\r\n    handleChange = (e) => {\r\n        let docSearch = e.currentTarget.name\r\n        let docSearchValue = e.currentTarget.value\r\n        \r\n\r\n\r\n        if (docSearch === \"city\"){\r\n            this.setState({\r\n                cityQuery:  docSearchValue\r\n            }, ()=>this.handleSearch())\r\n        } else {\r\n            this.setState({\r\n                specialityQuery: docSearchValue\r\n            }, ()=>this.handleSearch())\r\n        }\r\n    }\r\n      \r\n\r\n\r\n    handleSearch = (e) => {\r\n\r\n        console.log(\"state in handle search\", this.state.cityQuery)\r\n        console.log(\"state in handle search\", this.state.specialityQuery)\r\n\r\n        let searchResult = this.state.doctors.filter(doctor => {\r\n            if (!doctor.speciality || !doctor.city){\r\n                return false\r\n            } \r\n            console.log(\"inside the map\", doctor.speciality)\r\n            return doctor.speciality.toLowerCase().includes(this.state.specialityQuery.toLowerCase()) \r\n            &&  doctor.city.toLowerCase().includes(this.state.cityQuery.toLowerCase()) \r\n\r\n        })\r\n\r\n        this.setState({\r\n            filteredDoctors: searchResult\r\n        })\r\n\r\n    }\r\n        \r\n\r\n\r\n    render() {\r\n        return (\r\n            <>                               \r\n\r\n                <div className=\"index-info-card\">\r\n\r\n                    <div className=\"index-img-card\">\r\n                        <img src=\"/images/doctors.png\" alt=\"img\"/> \r\n                        <p>Thousands of doctors available on the platform.</p>\r\n                    </div>\r\n\r\n                    <div className=\"index-img-card\">\r\n                        <img src=\"/images/online-booking.png\" alt=\"img\"/>\r\n                        <p>Easy online booking without struggle and 24/7!</p>\r\n                    </div>\r\n\r\n                    <div className=\"index-img-card\">\r\n                        <img src=\"/images/prescription.png\" alt=\"img\"/>\r\n                        <p>Direct access to your prescriptions.</p>\r\n                    </div> \r\n                    \r\n                </div>  \r\n\r\n                <div className=\"home-search-bar\">\r\n                    <input className=\"input-search\" onChange={this.handleChange} name=\"speciality\" type=\"text\" placeholder=\"Search by speciality\"></input>\r\n                    <input className=\"input-search\" onChange={this.handleChange} name=\"city\" type=\"text\" placeholder=\"Search by city\"></input>\r\n                </div>\r\n\r\n             \r\n                {/* <MapContainer /> */}\r\n\r\n                <HomeSeachResult doctorList={this.state.filteredDoctors} />\r\n\r\n               \r\n                \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nexport default class Signup extends Component {\r\n    state={\r\n        passwordStrength: '',\r\n        displayError: true\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <h1>Sign Up</h1>\r\n\r\n                <form onSubmit={this.props.onSignUp} className=\"main-content sign-log-form\">\r\n\r\n\r\n                    <div className=\"user-type-choice\">\r\n                        <label className=\"label-user\" for=\"usertype\">I am a </label> \r\n                        <select className=\"button\" name=\"usertype\">\r\n                            <option className=\"user-type-choice\" value=\"patient\">Patient</option> \r\n                            <option className=\"user-type-choice\" value=\"doctor\">Doctor</option>                            \r\n                        </select>\r\n                    </div>\r\n                    \r\n                    <label className=\"login-label\">Full name</label>\r\n                    <input onChange={this.props.onClear} name=\"username\" type=\"text\"></input>\r\n\r\n                    <label className=\"login-label\">Email</label>\r\n                    <input onChange={this.props.onClear} name=\"email\" type=\"email\"></input>\r\n\r\n                    <label className=\"login-label\">Password</label>\r\n                    <em><small>Password needs to be at least 8 characters, and include both lower and upper cases, numbers and special signs.</small></em>\r\n                    <input onChange={this.props.onPass} name=\"password\" type=\"password\"></input>\r\n                    <small>{this.props.passwordStrength}</small>\r\n\r\n\r\n                    <div className=\"sign-log-btn-line\">\r\n                        <button className=\"button\" type=\"submit\">Submit</button>\r\n                        <Link to=\"/login\"><button className=\"button\">Or Log In!</button></Link>\r\n                    </div>                    \r\n\r\n                </form>\r\n\r\n\r\n                <p>{this.props.errorMsg}</p>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\n\r\nexport default class Login extends Component {\r\n    \r\n\r\n\r\n    render() {\r\n\r\n        \r\n        return (\r\n\r\n            <>\r\n\r\n                <h1>Log In</h1>\r\n\r\n                <form onSubmit={this.props.onLogIn} className=\"main-content sign-log-form\">\r\n\r\n\r\n                    <div className=\"user-type-choice\">\r\n                        <label className=\"label-user\" for=\"usertype\">I am a </label>\r\n                        <select className=\"button\" name=\"usertype\">\r\n                            <option className=\"user-type-choice\" value=\"patient\">Patient</option>\r\n                            <option className=\"user-type-choice\" value=\"doctor\">Doctor</option>\r\n                            \r\n                        </select>\r\n                    </div>\r\n\r\n                    <label className=\"login-label\">Email</label>\r\n                    <input onChange={this.props.onClear} name=\"email\" type=\"email\"></input>\r\n\r\n                    <label className=\"login-label\">Password</label>\r\n                    <input onChange={this.props.onClear} name=\"password\" type=\"password\"></input>\r\n\r\n                    <div className=\"sign-log-btn-line\">\r\n                        <button className=\"button\" type=\"submit\">Submit</button>\r\n                        <Link to=\"/signup\"><button className=\"button\">Or Sign Up!</button></Link>\r\n                    </div>\r\n\r\n                    \r\n\r\n                </form>\r\n\r\n                <p>{this.props.errorMsg}</p>\r\n\r\n                \r\n            </>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Login from \"./Login\"\r\nimport moment from 'moment'\r\nimport axios from 'axios'\r\nimport {API_URL} from '../config'\r\n\r\nexport default class PatientProfile extends Component {\r\n\r\n  state={\r\n    patient: {},\r\n    updatedField: {},\r\n    editing: false,\r\n    unedited: '',\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios.get(`${API_URL}/planner`, {withCredentials: true})\r\n      .then((res)=>{\r\n        this.setState({\r\n          patient: res.data\r\n        })\r\n      })    \r\n  }\r\n  \r\n\r\n//Edit Profile methods\r\n\r\n  handleChange = (e) => {\r\n    const {name, value}= e.currentTarget\r\n    this.setState({\r\n        updatedField: {[name]: value}, \r\n        patient: {...this.state.patient, [name]:value}\r\n    })\r\n  }\r\n\r\n  handleEnable = (e)=>{\r\n    if (!this.state.editing){\r\n    let buttons = e.getElementsByTagName('BUTTON')\r\n    e.getElementsByTagName('INPUT')[0].readOnly = false\r\n    e.getElementsByTagName('INPUT')[0].classList.toggle('readonly-field')\r\n    let field= e.getElementsByTagName('INPUT')[0].value\r\n    for (let button of buttons){button.classList.toggle('hidden-button')}\r\n    this.setState({editing: !this.state.editing, unedited: field})\r\n    }\r\n  }\r\n  \r\n  handleDisable = (e)=>{\r\n    let buttons = e.getElementsByTagName('BUTTON')\r\n    e.getElementsByTagName('INPUT')[0].readOnly = true\r\n    e.getElementsByTagName('INPUT')[0].classList.toggle('readonly-field')\r\n    let field= e.getElementsByTagName('INPUT')[0].name\r\n    for (let button of buttons){button.classList.toggle('hidden-button')}\r\n    this.setState({editing: !this.state.editing, patient:  {...this.state.patient, [field]: this.state.unedited, updatedField:{}}})\r\n  }\r\n\r\n  handleEdit = (e, d) => {\r\n    let keyName= Object.keys(e)[0]\r\n    let value = Object.values(e)[0]\r\n    axios.patch(`${API_URL}/patient/${this.props.loggedInUser._id}`, {[keyName]: value}, {withCredentials:true})\r\n    // this.setState({\r\n\r\n\r\n    // })\r\n    let buttons = d.getElementsByTagName('BUTTON')\r\n    d.getElementsByTagName('INPUT')[0].classList.toggle('readonly-field')\r\n    for (let button of buttons){button.classList.toggle('hidden-button')}\r\n    this.setState({editing: !this.state.editing})\r\n    console.log(this.state.patient)\r\n  }\r\n\r\n\r\n \r\n  render() {\r\n    if (!this.props.loggedInUser){\r\n      return <Login />\r\n    }\r\n\r\n    if (!this.state.patient){\r\n      return <img src=\"../images/loader.gif\" alt=\"loader\"/>\r\n    }\r\n\r\n\r\n    const {username, birthDate, height, weight, allergies, history, phoneNumber, address, email} = this.state.patient\r\n    console.log (birthDate)\r\n\r\n    return (\r\n      <>\r\n        <h1>Profile</h1>\r\n\r\n\r\n        <div className=\"main-content profile-page-content\">\r\n\r\n          <div className=\"profile-field\" id='name-profile'>\r\n            <label className=\"profile-label\"><strong>Full Name</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"username\" type=\"text\" value={username}  onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('name-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n            <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('name-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('name-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='birthDate-profile'>\r\n            <label className=\"profile-label\"><strong>Birth Date</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"birthDate\" type=\"text\" value={birthDate}  onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('birthDate-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('birthDate-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('birthDate-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n    \r\n          <div className=\"profile-field\" id='address-profile'>\r\n            <label className=\"profile-label\"><strong>Address</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"address\" type=\"text\" value={address} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('address-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('address-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('address-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='email-profile'>\r\n            <label className=\"profile-label\"><strong>E-Mail</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"email\"  type=\"email\" value={email} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('email-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('email-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('email-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>  \r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='phoneNumber-profile'>\r\n            <label className=\"profile-label\"><strong>Telephone</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"phoneNumber\" type=\"text\" value={phoneNumber} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('phoneNumber-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('phoneNumber-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('phoneNumber-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='height-profile'>\r\n            <label className=\"profile-label\"><strong>Height (cm)</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"height\" type=\"text\" value={height} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('height-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('height-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('height-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='weight-profile'>\r\n            <label className=\"profile-label\"><strong>Weight (kg)</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"weight\" type=\"text\" value={weight} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('weight-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('weight-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('weight-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='allergies-profile'>\r\n            <label className=\"profile-label\"><strong>Allergies</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"allergies\" type=\"text\" value={allergies} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('allergies-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n            <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('allergies-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('allergies-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='history-profile'>\r\n            <label className=\"profile-label\"><strong>Medical History</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"history\" type=\"text\" value={history} onChange={this.handleChange}></input>\r\n            <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('history-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n          <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('history-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n            <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('history-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        \r\n\r\n      </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n  \r\n\r\n  ","import React, { Component } from 'react';\r\nimport {API_URL} from '../config';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nexport default class PatientAppointments extends Component {\r\n\r\n\r\n    state = {\r\n        loggedInUser: this.props.loggedInUser,\r\n        usertype: this.props.usertype,\r\n        appointments: null,\r\n        report: null,\r\n    }\r\n\r\n  \r\n\r\n    componentDidMount(){\r\n        axios.get(`${API_URL}/patient/appointments` , {withCredentials: true})\r\n        .then((res) => {\r\n            let ordered = JSON.parse(JSON.stringify(res.data))\r\n            ordered.sort((a, b)=> moment(a.time) - moment(b.time)) \r\n            console.log (ordered)\r\n            this.setState({\r\n            appointments: ordered           \r\n            }, ()=> console.log(this.state.appointments))\r\n        })\r\n    }\r\n    \r\n\r\n\r\n    \r\n    handleDownload = (e, appointmentId) => {\r\n        e.preventDefault();\r\n        axios.get(`${API_URL}/patient/appointment/report/${appointmentId}`, {withCredentials: true})\r\n        .then((res) => {\r\n            console.log(res.data.report)\r\n            this.setState({\r\n                report: res.data.report,\r\n            })\r\n            window.open(this.state.report, '_blank')\r\n\r\n        })    \r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n\r\n        if (!this.state.appointments){\r\n            return <img src=\"../images/loader.gif\" alt=\"loader\"/>\r\n        }\r\n\r\n        return (\r\n            <>\r\n\r\n                <h1>Appointments</h1>\r\n\r\n                {\r\n                    this.state.appointments.map(appointment => {\r\n\r\n                        let dateApp = moment(appointment.time).local().format('Do MMM YYYY')\r\n                        let timeApp =  moment(appointment.time).local().format('HH:mm')\r\n                        let timeToApp\r\n                        (appointment.time > Date.now()) ? timeToApp=moment(appointment.time).local().toNow(): timeToApp=moment(appointment.time).local().fromNow()\r\n\r\n                        return (\r\n                            <div className=\"main-content\">  \r\n\r\n                                <div className=\"appointment-card\">\r\n                                    <div>\r\n                                        <p><strong>On: {dateApp} at {timeApp}, {timeToApp}</strong></p>\r\n\r\n                                        <p>With <strong>Dr. {appointment.doctor.username}</strong></p>\r\n                                        <p><strong>Specialized in: </strong>{appointment.doctor.speciality}</p>\r\n                                        <p><strong>Purpose: </strong>{appointment.reason}</p>\r\n                                        <p><strong>Located at: </strong>{appointment.doctor.address}</p>\r\n                                    </div>\r\n\r\n                                    {         \r\n                                    moment(appointment.time).isBefore(Date.now()) ? (\r\n                                        <Link to={`/doctor/${appointment.doctor._id}`}><button className=\"button\">Cancel</button></Link>\r\n\r\n                                            ) : (appointment.report? \r\n                                            \r\n                                                <button className=\"button\" onClick={(e) => this.handleDownload(e, appointment._id)}>See Report</button>:\r\n                                                <button className=\"button disabled\" disabled>No Report</button>\r\n\r\n                                                )\r\n                                    } \r\n                                </div>\r\n                            </div>\r\n                        )                      \r\n                    })\r\n\r\n                }    \r\n\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Axios from 'axios'\r\nimport {API_URL} from '../config'\r\n// import { DayCellContent } from '@fullcalendar/react'\r\nimport moment from 'moment'\r\n\r\nexport default class PatientMedPlanner extends Component {\r\n\r\n    state={\r\n        patient:{},\r\n        currentday: moment(Date.now()) \r\n    }\r\n\r\n    componentDidMount(){\r\n        Axios.get(`${API_URL}/planner`, {withCredentials:true})\r\n            .then((res)=>{\r\n                this.setState({patient: res.data}, ()=>{\r\n                    console.log(this.state.patient)\r\n                    let arraymeds = this.state.patient.prescriptions.map(prescription=> prescription.medications).flat()\r\n                    let filteredmeds= arraymeds.filter(medication=> moment(this.state.currentday).isBefore(medication.endDate) && moment(medication.startDate).isBefore(this.state.currentday) && (this.state.currentday.diff(moment(medication.startDate), 'days'))%medication.daysPerTake===0)\r\n                    this.setState({currentmeds: filteredmeds}, ()=>console.log(this.state))\r\n                })\r\n            })\r\n    }\r\n\r\n    // componentDidUpdate(prevProps, prevState){\r\n\r\n    // }\r\n    \r\n\r\n    previousDay(){\r\n        this.setState({currentday: this.state.currentday.subtract(1, 'day')}, console.log (this.state.currentday.toString()))\r\n        let arraymeds = this.state.patient.prescriptions.map(prescription=> prescription.medications).flat()\r\n        let filteredmeds= arraymeds.filter(medication=> moment(this.state.currentday).isBefore(medication.endDate) && moment(medication.startDate).isBefore(this.state.currentday) && (this.state.currentday.diff(moment(medication.startDate), 'days'))%medication.daysPerTake===0)\r\n        this.setState({currentmeds: filteredmeds}, ()=>console.log(this.state))\r\n    }\r\n\r\n    nextDay(){\r\n        this.setState({currentday: this.state.currentday.add(1, 'day')}, console.log (this.state.currentday.toString()))\r\n        let arraymeds = this.state.patient.prescriptions.map(prescription=> prescription.medications).flat()\r\n        let filteredmeds= arraymeds.filter(medication=> moment(this.state.currentday).isBefore(medication.endDate) && moment(medication.startDate).isBefore(this.state.currentday) && (this.state.currentday.diff(moment(medication.startDate), 'days'))%medication.daysPerTake===0)\r\n        this.setState({currentmeds: filteredmeds}, ()=>console.log(this.state))\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.state.currentmeds){\r\n            return <img src=\"../images/loader.gif\" alt=\"loader\"/>\r\n          }\r\n\r\n        return (\r\n            <>\r\n                <h1>Medication Planner</h1>\r\n\r\n                <div className=\"patient-cal-date-field\">\r\n                    <button className=\"button calendar-day\" onClick={()=>this.previousDay()}>&lt;</button>\r\n                    <h4>{this.state.currentday.format(\"Do MMM, YYYY\").toString()}</h4>\r\n                    <button className=\"button calendar-day\" onClick={()=>this.nextDay()}>&gt;</button>\r\n                </div>\r\n\r\n                <div className=\"main-content patient-cal-day-times\">\r\n\r\n                    <h4 className=\"time-planner\">Morning</h4>\r\n                    {this.state.currentmeds.map(med=> {if (med.takesPerDay===3 ||med.takesPerDay===2){return <div><p>{med.name} -  {med.dosePerTake} - Note: {med.comments}</p></div>}})}\r\n                    <hr/>\r\n\r\n                    <h4 className=\"time-planner\">Noon</h4>\r\n                    {this.state.currentmeds.map(med=> {if (med.takesPerDay===3 ||med.takesPerDay===1){return <div><p>{med.name} -  {med.dosePerTake} - Note: {med.comments}</p></div>}})}\r\n                    <hr/>\r\n\r\n                    <h4 className=\"time-planner\">Night</h4>\r\n                    {this.state.currentmeds.map(med=> {if (med.takesPerDay===3 ||med.takesPerDay===2){return <div><p>{med.name} -  {med.dosePerTake} - Note: {med.comments}</p></div>}})}\r\n                </div>\r\n            \r\n            </>\r\n        )\r\n    }\r\n}\r\n","let eventGuid = 0\r\n\r\nexport function createEventId() {\r\n  return String(eventGuid++)\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport {API_URL} from '../config'\r\nimport FullCalendar from '@fullcalendar/react'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport timeGridPlugin from '@fullcalendar/timegrid'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport { createEventId } from './event-utils'\r\nimport moment from 'moment'\r\nimport momentPlugin from '@fullcalendar/moment'\r\n\r\n\r\nexport default class DoctorProfile extends Component {\r\n\r\n  state={\r\n    doctor: {},\r\n    weekendsVisible: false,\r\n    currentEvents: [],\r\n    updatedField: {},\r\n    editing: false,\r\n    unedited: '',\r\n    appointments: [],\r\n    events:[]\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios.get(`${API_URL}/doctor/${this.props.match.params.doctorId}`, {withCredentials: true})\r\n      .then((res)=>{\r\n        this.setState({doctor: res.data}, ()=>{console.log(this.state.doctor, new Date(this.state.doctor.openingTime))})\r\n      })\r\n      axios.get(`${API_URL}/doctor/appointments/${this.props.match.params.doctorId}`, {withCredentials: true})\r\n      .then((res)=>{\r\n        this.setState({appointments: res.data, events: res.data.map(appointment=>{\r\n          console.log ('ids:', appointment.patient, this.props.loggedInUser._id)\r\n          let eventColor= appointment.patient._id===this.props.loggedInUser._id? '#3788d8': 'gray'\r\n          let proper = appointment.patient._id===this.props.loggedInUser._id? true : false\r\n          return {title: appointment.reason, start:appointment.time, id:appointment.eventId, startEditable: proper, patient: appointment.patient, color: eventColor}})},\r\n         ()=>{console.log(this.state)}\r\n         ) \r\n      })\r\n      \r\n  }\r\n  \r\n\r\n//Edit Profile methods\r\n\r\n  handleChange = (e) => {\r\n    const {name, value}= e.currentTarget\r\n    this.setState({\r\n        updatedField: {[name]: value}, \r\n        doctor:{...this.state.doctor, [name]:value}\r\n    })\r\n  }\r\n\r\n  handleEnable = (e)=>{\r\n    if (!this.state.editing){\r\n    let buttons = e.getElementsByTagName('BUTTON')\r\n    e.getElementsByTagName('INPUT')[0].readOnly = false\r\n    e.getElementsByTagName('INPUT')[0].classList.toggle('readonly-field')\r\n    let field= e.getElementsByTagName('INPUT')[0].value\r\n    for (let button of buttons){button.classList.toggle('hidden-button')}\r\n    this.setState({editing: !this.state.editing, unedited: field})\r\n    }\r\n  }\r\n  \r\n  handleDisable = (e)=>{\r\n    let buttons = e.getElementsByTagName('BUTTON')\r\n    e.getElementsByTagName('INPUT')[0].readOnly = true\r\n    e.getElementsByTagName('INPUT')[0].classList.toggle('readonly-field')\r\n    let field= e.getElementsByTagName('INPUT')[0].name\r\n    for (let button of buttons){button.classList.toggle('hidden-button')}\r\n    this.setState({editing: !this.state.editing, doctor: {...this.state.doctor, [field]: this.state.unedited, updatedField:{}}})\r\n  }\r\n\r\n  handleEdit = (e, d) => {\r\n    let keyName= Object.keys(e)[0]\r\n    let value = Object.values(e)[0]\r\n    axios.patch(`${API_URL}/doctor/${this.props.match.params.doctorId}`, {[keyName]: value}, {withCredentials:true})\r\n    let buttons = d.getElementsByTagName('BUTTON')\r\n    d.getElementsByTagName('INPUT')[0].classList.toggle('readonly-field')\r\n    for (let button of buttons){button.classList.toggle('hidden-button')}\r\n    this.setState({editing: !this.state.editing})\r\n  }\r\n\r\n  handleImgEnable= (e)=>{\r\n      e.getElementsByTagName('INPUT')[0].classList.toggle('hidden-button')\r\n      e.getElementsByTagName('BUTTON')[1].classList.toggle('hidden-button')\r\n      this.setState({editing: !this.state.editing})\r\n  }\r\n\r\n  handleImgEdit =(e)=>{\r\n    if (e){\r\n    let image = e.getElementsByTagName('INPUT')[0].files[0]\r\n    let uploadData = new FormData()\r\n    uploadData.append('imageUrl', image)\r\n    let uppicture\r\n    e.getElementsByTagName('INPUT')[0].classList.toggle('hidden-button')\r\n    e.getElementsByTagName('BUTTON')[1].classList.toggle('hidden-button')\r\n    axios.post(`${API_URL}/upload`, uploadData)\r\n    .then((res)=> {uppicture= res.data.image; axios.patch(`${API_URL}/doctor/${this.props.match.params.doctorId}`, {picture: res.data.image}, {withCredentials:true})})\r\n    .then((res)=>{console.log (res);this.setState({doctor:{...this.state.doctor, picture: uppicture}})})\r\n    \r\n  }}\r\n\r\n  //Calendar methods \r\n  handleDateSelect = (selectInfo) => {\r\n    if (!moment(new Date(selectInfo.startStr)).isBefore(Date.now())) {\r\n      let calendarApi = selectInfo.view.calendar\r\n      calendarApi.unselect()\r\n      \r\n      if (selectInfo.end-selectInfo.start>1800000) {\r\n        alert('Appointments must have a duration of half an hour')\r\n        return\r\n      }\r\n\r\n    let title = prompt('Please enter the reason for the appointment: ')\r\n    if (title) {\r\n      calendarApi.addEvent({\r\n        id: createEventId(),\r\n        title,\r\n        start: selectInfo.startStr,\r\n        end: selectInfo.endStr,\r\n        patient: this.props.loggedInUser._id,\r\n        startEditable: true,\r\n        editable: false\r\n      })\r\n    }}\r\n    else{\r\n      selectInfo.view.calendar.unselect()\r\n      alert('Please, select a valid date')\r\n    }\r\n  }\r\n  \r\n  handleEventClick = (clickInfo) => {\r\n    console.log (clickInfo.event.startStr)\r\n    if ((clickInfo.event.extendedProps.patient._id === this.props.loggedInUser._id || clickInfo.event.extendedProps.patient === this.props.loggedInUser._id)\r\n      && moment(clickInfo.event.startStr).isAfter(moment(Date.now()))\r\n      ){\r\n      if (window.confirm(`Are you sure you want to delete the event '${clickInfo.event.title}'`))   {clickInfo.event.remove()}\r\n     \r\n  }}\r\n  \r\n  handleEvents = (events) => {\r\n    this.setState({\r\n      currentEvents: events\r\n    })\r\n  }\r\n\r\n  //Linking of calendar with database\r\n  appoCreate= (event) =>{\r\n    console.log (event.event)\r\n    axios.post(`${API_URL}/patient/appointments/${this.props.match.params.doctorId}`, \r\n      {time: event.event.start, eventId: event.event.id, reason: event.event.title}, {withCredentials:true})\r\n  }\r\n\r\n  appoEdit= (event) =>{\r\n    axios.patch(`${API_URL}/patient/appointments/${this.props.match.params.doctorId}`, \r\n      {time: event.event.start, eventId: event.event.id, reason: event.event.title}, {withCredentials:true})\r\n  }\r\n\r\n  appoCancel= (event) =>{\r\n    console.log (event.event)\r\n    axios.delete(`${API_URL}/patient/appointments/${this.props.match.params.doctorId}/${event.event.id}`, {withCredentials:true})\r\n  }\r\n  \r\n  render() {\r\n\r\n    \r\n\r\n    if (!this.state.doctor){\r\n      return <img src=\"../images/loader.gif\" alt=\"loader\"/>\r\n    }\r\n    \r\n    const {username, speciality, city, address, email, phone, openingTime, closingTime, picture} = this.state.doctor\r\n \r\n    return (\r\n      //Profile\r\n      <>\r\n\r\n        <h1>Doctor Profile</h1>\r\n\r\n        <div className=\"main-content profile-page-content\">\r\n\r\n          <div className=\"profile-field\" id='image-profile'>\r\n              <img src={picture} alt='' className=\"doc-img\"/>\r\n              {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n                <>\r\n                  <button className=\"edit-profile\" onClick={()=>this.handleImgEnable(document.getElementById('image-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                  <input  autocomplete=\"off\" type=\"file\" className=\"form-control hidden-button\" name=\"image\" id=\"image\" />\r\n                <button type='submit' className='hidden-button edit-profile' onClick={()=>this.handleImgEdit(document.getElementById('image-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n                </>\r\n              :null}\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='name-profile'>\r\n            <label className=\"profile-label\"><strong>Name</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"username\" type=\"text\" value={username}  onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('name-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('name-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('name-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n            :null}\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='speciality-profile'>\r\n            <label className=\"profile-label\"><strong>Speciality</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"speciality\" type=\"text\" value={speciality}  onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('speciality-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('speciality-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('speciality-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n            :null}\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='city-profile'>\r\n            <label className=\"profile-label\"><strong>City</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"city\" type=\"text\" value={city} onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('city-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('city-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('city-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n          :null}\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='address-profile'>\r\n            <label className=\"profile-label\"><strong>Address</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"address\" type=\"text\" value={address} onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('address-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('address-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('address-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n            :null}\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='email-profile'>\r\n            <label className=\"profile-label\"><strong>E-Mail</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"email\"  type=\"email\" value={email} onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('email-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('email-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('email-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>  \r\n              </>\r\n            :null}\r\n          </div>\r\n\r\n          <div className=\"profile-field\" id='phone-profile'>\r\n            <label className=\"profile-label\"><strong>Telephone</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"phone\" type=\"text\" value={phone} onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('phone-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('phone-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('phone-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n            :null}        \r\n          </div>\r\n          \r\n          <div className=\"profile-field\" id='opening-profile'>\r\n            <label className=\"profile-label\"><strong>Opening time</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"openingTime\" type=\"text\" value={openingTime} onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('opening-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('opening-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('opening-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n            :null}\r\n          </div>\r\n          \r\n          <div className=\"profile-field\" id='closing-profile'>\r\n            <label className=\"profile-label\"><strong>Closing time</strong></label>\r\n            <input autocomplete=\"off\" className='readonly-field' readOnly={true} name=\"closingTime\" type=\"text\" value={closingTime} onChange={this.handleChange}></input>\r\n            {(this.props.loggedInUser._id=== this.props.match.params.doctorId)?\r\n              <>\r\n                <button className=\"edit-profile\" onClick={()=>this.handleEnable(document.getElementById('closing-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-edit.png\" alt=\"tbt\"/></button>\r\n                <button className='hidden-button edit-profile' onClick={()=>this.handleDisable(document.getElementById('closing-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-delete.png\" alt=\"tbt\"/></button>\r\n              <button type='submit' className='hidden-button edit-profile' onClick={() => this.handleEdit(this.state.updatedField, document.getElementById('closing-profile'))}><img className=\"img-edit-btn-profile\" src=\"/images/btn-valid.png\" alt=\"tbt\"/></button>\r\n              </>\r\n            :null}\r\n          </div>\r\n\r\n          \r\n\r\n          {/*Calendar  */}\r\n          {(this.props.usertype==='patient') ? \r\n           <FullCalendar\r\n              plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin, momentPlugin]}\r\n              headerToolbar={{\r\n                left: 'prev,next',\r\n                center: 'title',\r\n                right: ''\r\n              }}\r\n              initialView='timeGridWeek'\r\n              titleFormat = 'Do MMM YYYY'\r\n              selectable={true}\r\n              selectMirror={false}\r\n              dayMaxEvents={true}\r\n              allDaySlot= {false}\r\n              eventStartEditable={true}\r\n              slotMinTime= '08:00'\r\n              slotMaxTime= '20:00'\r\n              businessHours = {{businessHours: {\r\n                  daysOfWeek: [ 1, 2, 3, 4, 5 ], \r\n                  startTime: this.state.doctor.openingTime, \r\n                  endTime: this.state.doctor.closingTime, \r\n                }}}\r\n              eventConstraint= {{\r\n                  start: Date.now(),\r\n                  end: '2100-01-01' // hard coded goodness unfortunately\r\n                }}\r\n              weekends={this.state.weekendsVisible}\r\n              events={this.state.events} \r\n              select={this.handleDateSelect}\r\n              eventContent={renderEventContent} \r\n              eventClick={this.handleEventClick}\r\n              eventsSet={this.handleEvents} \r\n              eventAdd={(event)=>this.appoCreate(event)}\r\n              eventChange={(event)=>this.appoEdit(event)}\r\n              eventRemove={(event)=>this.appoCancel(event)}\r\n              defaultTimedEventDuration= '00:30'\r\n            />\r\n            :null}\r\n\r\n        </div>     \r\n                   \r\n      </>        \r\n      )\r\n    \r\n    }\r\n  }\r\n  // Auxiliary function for rendering the events in the calendar\r\n  function renderEventContent(eventInfo) {\r\n    return (\r\n      <>\r\n        <b>{eventInfo.timeText}</b>\r\n      </>\r\n    )\r\n  }\r\n  ","import React, { Component } from 'react'\r\nimport FullCalendar from '@fullcalendar/react'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport timeGridPlugin from '@fullcalendar/timegrid'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport axios from 'axios'\r\nimport {API_URL} from '../config'\r\nimport momentPlugin from '@fullcalendar/moment'\r\n\r\n\r\nexport default class DoctorCalendar extends Component {\r\n\r\n    state={\r\n        doctor: {},\r\n        weekendsVisible: false,\r\n        currentEvents: [],\r\n        updatedField: {},\r\n        editing: false,\r\n        unedited: '',\r\n        appointments: [],\r\n        events:[]\r\n      }\r\n\r\n      componentDidMount(){\r\n        axios.get(`${API_URL}/doctor/${this.props.loggedInUser._id}`, {withCredentials: true})\r\n          .then((res)=>{\r\n            this.setState({doctor: res.data}, ()=>{console.log(this.state.doctor, new Date(this.state.doctor.openingTime))})\r\n          })\r\n          axios.get(`${API_URL}/doctor/appointments/${this.props.loggedInUser._id}`, {withCredentials: true})\r\n          .then((res)=>{\r\n            this.setState({appointments: res.data, events: res.data.map(appointment=>{return {title: appointment.reason, start:appointment.time, id:appointment.eventId, editable: false, patient: appointment.patient, appointment: appointment._id}})}, ()=>console.log(this.state)) \r\n          })\r\n      }\r\n\r\n      handleEventClick = (clickInfo) => {\r\n          console.log (clickInfo)\r\n        this.props.history.push(`/calendar/${clickInfo.event.extendedProps.appointment}`)\r\n         \r\n      }\r\n        \r\n      \r\n      handleEvents = (events) => {\r\n        this.setState({\r\n          currentEvents: events\r\n        })\r\n      }\r\n\r\n    render() {\r\n        return (\r\n          <>\r\n            <h1>Calendar</h1>\r\n\r\n            <FullCalendar\r\n            plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin, momentPlugin]}\r\n            headerToolbar={{\r\n              left: 'prev',\r\n              center: 'title',\r\n              right: 'next'\r\n            }}\r\n            titleFormat = 'DD/MM/YYYY'\r\n            initialView='timeGridDay'\r\n            selectMirror={true}\r\n            dayMaxEvents={true}\r\n            allDaySlot= {false}\r\n            eventDurationEditable={false}\r\n            slotMinTime= '08:00'\r\n            slotMaxTime= '20:00'\r\n            businessHours = {{businessHours: {\r\n                // days of week. an array of zero-based day of week integers (0=Sunday)\r\n                daysOfWeek: [ 1, 2, 3, 4, 5 ], // Monday - Thursday\r\n\r\n                startTime: this.state.doctor.openingTime, // a start time (10am in this example)\r\n                endTime: this.state.doctor.closingTime, // an end time (6pm in this example)\r\n              }}}\r\n            weekends={this.state.weekendsVisible}\r\n            events={this.state.events} // alternatively, use the `events` setting to fetch from a feed\r\n            eventContent={renderEventContent} // custom render function\r\n            eventClick={this.handleEventClick}\r\n            eventsSet={this.handleEvents} // called after events are initialized/added/changed/removed\r\n            defaultTimedEventDuration= '00:30'\r\n            />\r\n            \r\n          </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction renderEventContent(eventInfo) {\r\n    console.log (eventInfo.event)\r\n    return (\r\n      <div className='event-content'>\r\n        <b>{eventInfo.timeText}</b>\r\n        <i>{eventInfo.event.extendedProps.patient.username}</i>\r\n        <i>{eventInfo.event.title}</i>\r\n        </div>\r\n    )\r\n  }\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport {API_URL} from '../config'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment';\r\n\r\n\r\nexport default class AppointmentDetails extends Component {\r\n  state={\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios.get(`${API_URL}/doctor/appointment/${this.props.match.params.appointmentId}`, {withCredentials: true})\r\n    .then((res)=>this.setState({appointment: res.data}, ()=>console.log (this.state.appointment)))\r\n\r\n  }\r\n\r\n  cancelAppointment=(appointment)=>{\r\n    if (window.confirm(`Are you sure you want to cancel the appointment?`)){\r\n      axios.delete(`${API_URL}/cancel/${this.props.match.params.appointmentId}`, {withCredentials:true})\r\n      .then(()=>this.props.history.push('/calendar'))\r\n    }\r\n  }\r\n\r\n  toggleLoader=(e)=>{\r\n    e.classList.toggle('hidden-button')\r\n  }\r\n\r\n  loadReport=(e)=>{\r\n    let image = e.getElementsByTagName('INPUT')[0].files[0]\r\n    let uploadData = new FormData()\r\n    uploadData.append('imageUrl', image)\r\n    axios.post(`${API_URL}/upload`, uploadData)\r\n      .then((res)=> {console.log(res.data);axios.patch(`${API_URL}/append-report/${this.props.match.params.appointmentId}`, {report: res.data.image}, {withCredentials:true})})\r\n      .then(()=>this.toggleLoader(e))\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    if (!this.state.appointment){\r\n      return <img src=\"../images/loader.gif\" alt=\"loader\"/>\r\n  }\r\n  const{username, phoneNumber, email, allergies, history} = this.state.appointment.patient\r\n  const {time, reason} = this.state.appointment\r\n\r\n  let dateApp = moment(time).local().format('Do MMM YYYY')\r\n  let timeApp =  moment(time).local().format('HH:mm')\r\n  let timeToApp\r\n  (time > Date.now())? timeToApp=moment(time).local().toNow(): timeToApp=moment(time).local().fromNow()\r\n\r\n    return (\r\n      <>\r\n\r\n        <h1> Appointment Details</h1>\r\n\r\n        <div className=\"main-content appointment-details-card\">\r\n          \r\n          <div className=\"top-card-app-details\">\r\n            <p>On: {dateApp} at {timeApp}, {timeToApp}</p>\r\n            <p>Reason: {reason}</p>\r\n          </div>\r\n\r\n          <div className=\"bottom-card-app-details\">\r\n            <div>\r\n              <h3>Patient information</h3>\r\n              <p>Name: {username}</p>\r\n              <p>Phone: {phoneNumber}</p>\r\n              <p>Email: {email}</p>\r\n              <p>Allergies: {allergies}</p>\r\n              <p>Medical History: {history}</p>  \r\n            </div>\r\n\r\n            <div className=\"btn-app-details\">\r\n              <Link to={`/create-prescription/${this.props.match.params.appointmentId}`}><button className=\"button\">Create Prescription</button></Link>\r\n              {moment(this.state.appointment.time)>moment(Date.now())?\r\n              <button className=\"button\" onClick={()=>this.cancelAppointment(this.props.match.params.appointmentId)}>Cancel appointment</button>: <button disabled className=\"button disabled\" onClick={()=>this.cancelAppointment(this.props.match.params.appointmentId)}>Cancel appointment</button>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"report-upload\">\r\n            <button className=\"button\" onClick={()=>this.toggleLoader(document.getElementById('report-group'))}>{this.state.appointment.report? 'Replace Report':'Upload Report'}</button>\r\n\r\n            <div className='hidden-button' id='report-group'>\r\n              <input type='file' name='report' className=\"form-control\"/>\r\n              <button className=\"button\" onClick={()=>this.loadReport(document.getElementById('report-group'))}>Submit</button>\r\n            </div>\r\n\r\n            {(this.state.appointment.prescription)? <p>There is already a prescription associated to this appointment.</p>:null}\r\n\r\n          </div>\r\n                      \r\n      </div>\r\n\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class PrescriptionItem extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n\r\n        <div className=\"added-med\">\r\n          <p><strong>Medication: </strong>{this.props.medication.name}</p>\r\n          <p><strong>Dose per take: </strong>{this.props.medication.dosePerTake}</p>\r\n          <p><strong>Takes per day: </strong>{this.props.medication.takesPerDay}</p>\r\n          <p><strong>Days per take: </strong>{this.props.medication.daysPerTake}</p>\r\n          <p><strong>Start date: </strong>{this.props.medication.startDate}</p>\r\n          <p><strong>End date: </strong>{this.props.medication.endDate}</p>\r\n          <p><strong>Comments: </strong>{this.props.medication.comments}</p>\r\n\r\n          <button className=\"button\" onClick={()=>this.props.onDelete(this.props.id)}>Delete</button> \r\n        </div>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class PrescriptionForm extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n\r\n        <form className='prescription-form' onSubmit={this.props.onCommit}>\r\n        \r\n          <small>Please fill in all the fields</small>\r\n\r\n          <div className=\"presription-inputs\">\r\n            <label>Medication name </label>\r\n            <input name='name' id='name' type='text'/>\r\n          </div>\r\n\r\n          <div className=\"presription-inputs\">\r\n            <label>Dose per take </label>\r\n            <input name='dosePerTake' id='dosePerTake' type='text' placeholder='ex: 2 pills'/>\r\n          </div>\r\n\r\n          <div className=\"presription-inputs\">\r\n            <label>Takes per day </label>\r\n            <input name='takesPerDay' id='takesPerDay' type='number' min='0'/>\r\n          </div>\r\n\r\n          <div className=\"presription-inputs\">\r\n            <label>Days per take </label>\r\n            <input name='daysPerTake' id='daysPerTake' type='number' min='0'/>\r\n            <small>If the patient needs to take the medication every day, write 1. If once every two days, write 2 and so on.</small>\r\n\r\n          </div>\r\n          <div className=\"presription-inputs\">\r\n            <label>Start date </label>\r\n            <input name='startDate' id='startDate' min={Date.now().toLocaleString()} type='date' placeholder='When should the patient start the treatment?'/>\r\n          </div>\r\n\r\n          <div className=\"presription-inputs\">\r\n            <label>End date </label>\r\n            <input name='endDate' id='endDate' type='date' placeholder='When should the patient stop the treatment?'/>\r\n          </div>\r\n\r\n          <div className=\"presription-inputs\">\r\n            <label>Comments </label>\r\n            <textarea name='comments' id='comments' type='text' placeholder='Additional comment' rows=\"3\" cols=\"30\"></textarea>\r\n          </div>\r\n\r\n          \r\n\r\n          <button className=\"add-med-btn\" type='submit'><img src=\"/images/btn-add.png\" alt=\"btn\"/></button>\r\n\r\n        </form>        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport PrescriptionItem from './PrescriptionItem'\r\nimport PrescriptionForm from './PrescriptionForm'\r\nimport axios from 'axios'\r\nimport {API_URL} from '../config'\r\nimport moment from 'moment'\r\n\r\n \r\n\r\n\r\nexport default class CreatePrescription extends Component {\r\n\r\n  state={\r\n    prescription: {medications:[]}\r\n  }\r\n\r\n\r\n  handleSubmit=(e)=>{\r\n    e.preventDefault()\r\n    \r\n    const {name, dosePerTake, startDate, endDate, takesPerDay, daysPerTake, comments} = e.currentTarget\r\n    let newMedication ={\r\n      name: name.value, \r\n      dosePerTake: dosePerTake.value,\r\n      startDate: startDate.value,\r\n      endDate: endDate.value,\r\n      takesPerDay: takesPerDay.value,\r\n      daysPerTake: daysPerTake.value,\r\n      comments: comments.value}\r\n\r\n    if (moment(startDate.value).isBefore(moment(Date.now())) || takesPerDay<=0 || daysPerTake<=0){\r\n      alert('Impossible parameters. Please double check the prescription')\r\n      return\r\n\r\n    }\r\n    let clonePrescription= JSON.parse(JSON.stringify(this.state.prescription))\r\n    clonePrescription.medications.push(newMedication)\r\n    this.setState({prescription: clonePrescription})\r\n    let inputs = e.currentTarget.getElementsByTagName('INPUT')\r\n    // for (let input of inputs) input.value=''\r\n    \r\n  }\r\n\r\n  \r\n\r\n  handleDelete=(id)=>{\r\n    console.log(id)\r\n    let newPrescription= this.state.prescription.medications.filter((medication, index) => {\r\n      return index !== id\r\n    })\r\n    console.log ( newPrescription)\r\n    \r\n    this.setState({prescription: {medications: newPrescription}})\r\n\r\n  }\r\n\r\n  handleCreate=()=>{\r\n    console.log(this.state.prescription.medications)\r\n    axios.post(`${API_URL}/create-prescription/${this.props.match.params.appointmentId}`, {medications:\r\n      this.state.prescription.medications}, {withCredentials:true})\r\n      .then(res=> {\r\n        this.props.history.push('/calendar')\r\n      })\r\n      .catch(err=> {\r\n        console.log (err)\r\n        this.setState({errorMsg: 'Could not create prescription. Please check that everything is filled out and try again.'})})\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <h1>Prescription Form</h1>\r\n        \r\n        <div className=\"main-content prescrition-form-card\">\r\n\r\n          <PrescriptionForm onCommit={this.handleSubmit}/>\r\n\r\n          <button className=\"button save-pres-btn\" onClick={this.handleCreate}>Save prescription</button>\r\n\r\n          <div className=\"medications-added-card\">            \r\n            {(this.state.prescription.medications) ? this.state.prescription.medications.map((medication, id)=>{return <><PrescriptionItem key={id} id={id} medication={medication} onDelete={this.handleDelete}/> <hr/></>}): null\r\n            }\r\n          </div>\r\n\r\n          <p>{this.state.errorMsg}</p>          \r\n          \r\n\r\n        </div>\r\n\r\n       \r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport SideBar from './components/SideBar'\r\nimport NavBar from './components/NavBar'\r\nimport HomePage from './components/HomePage'\r\nimport Signup from './components/Signup'\r\nimport Login from './components/Login'\r\nimport PatientProfile from './components/PatientProfile'\r\nimport PatientAppointments from './components/PatientAppointments'\r\nimport PatientMedPlanner from './components/PatientMedPlanner'\r\nimport DoctorProfile from './components/DoctorProfile'\r\nimport DoctorCalendar from './components/DoctorCalendar'\r\nimport AppointmentDetails from './components/AppointmentDetails'\r\n\r\n\r\nimport './App.css';\r\nimport {API_URL} from './config'\r\nimport axios from 'axios'\r\n\r\nimport {Switch, Route, withRouter, Redirect} from 'react-router-dom'\r\nimport CreatePrescription from './components/CreatePrescription';\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  state = {\r\n    loggedInUser: null,\r\n    usertype: null,\r\n    errorMsg:'',\r\n    desiredUrl: null,\r\n    passwordStrength: ''\r\n  }\r\n\r\n\r\n\r\n  componentDidMount(){\r\n    if (!this.state.loggedInUser){\r\n      axios.get(`${API_URL}/user`, {withCredentials: true})\r\n      .then((res) => {\r\n          this.setState({\r\n            loggedInUser: res.data.loggedInUser,\r\n            usertype: res.data.usertype\r\n          })\r\n        })\r\n    }\r\n  }\r\n  \r\n  \r\n\r\n\r\n\r\n\r\n  handleSignUp = (e) => {\r\n    e.preventDefault();\r\n    const {email, password, usertype, username} = e.currentTarget;\r\n\r\n    axios.post(`${API_URL}/auth/signup`, {\r\n      username: username.value,\r\n      email: email.value,\r\n      password: password.value,\r\n      usertype: usertype.value,\r\n      // allergies: allergies.value,\r\n      // history: history.value\r\n      // to check if withCredentials is needed and state change\r\n    })\r\n      .then((res) => {\r\n        this.props.history.push('/login')\r\n      })\r\n      .catch(err=>{\r\n        this.setState({\r\n          errorMsg: err.response.data.errorMessage\r\n        }, ()=>console.log(this.state.errorMsg, err.response))\r\n      }) \r\n  }\r\n\r\n  \r\n  handleLogIn = (e) => {\r\n    e.preventDefault(); \r\n    const {email, password, usertype} = e.currentTarget;\r\n    axios.post(`${API_URL}/auth/login`, {\r\n      email: email.value, \r\n      password: password.value,\r\n      usertype: usertype.value\r\n    },  {withCredentials: true})\r\n      .then((res) => {\r\n        this.setState({\r\n          loggedInUser: res.data,\r\n          usertype: usertype.value,\r\n          errorMsg: null\r\n        }, () => {       \r\n          if (this.state.usertype === \"patient\"){\r\n            if (window.location.pathname.includes('doctor')){\r\n              this.props.history.push(window.location.pathname)\r\n            } \r\n            else if (!window.location.pathname.includes('doctor')) (this.props.history.push('/profile'))\r\n          } \r\n          else if (this.state.usertype === \"doctor\"){\r\n            this.props.history.push(`/doctor/${this.state.loggedInUser._id}`)\r\n          }\r\n        })\r\n      })\r\n      .catch(err=>{\r\n        this.setState({\r\n          errorMsg: err.response.data.error\r\n        })\r\n      }) \r\n  }\r\n\r\n\r\n\r\n  handleLogOut = (e) => {\r\n    //{withCredentials: true} is not false ???\r\n    axios.post(`${API_URL}/auth/logout`, {}, {withCredentials: true})\r\n      .then(() => {\r\n        this.setState({\r\n          loggedInUser: null,\r\n          usertype: null,\r\n          desiredUrl: null\r\n        }, ()=>{\r\n          this.props.history.push('/')\r\n        })\r\n      })    \r\n  }\r\n\r\n  handlePass=(e)=>{\r\n    let strength = 0\r\n    let lowerCase = new RegExp (/^(?=.*[a-z])/)\r\n    let upperCase = new RegExp (/(?=.*[A-Z])/)\r\n    let number = new RegExp (/(?=.*[0-9])/)\r\n    let especial = new RegExp (/(?=.*[!@#$%^&*])/)  \r\n    let amount = new RegExp (/(?=.{8,})/)\r\n    \r\n    let password= e.currentTarget.value\r\n    if (lowerCase.test(password)) {strength++}\r\n    if (upperCase.test(password)) {strength++}\r\n    if (number.test(password)) {strength++}\r\n    if (especial.test(password)) {strength++}\r\n    if (amount.test(password)) {strength++}\r\n    \r\n    if (strength===0) this.setState({passwordStrength: ''})\r\n    if (strength<3 && strength>0) this.setState({passwordStrength: 'Your password is too weak.'})\r\n    if (strength<5 && strength>=3) this.setState({passwordStrength: 'Almost there, you just need to increase your password strength a little more.'})\r\n    if (strength>=5) this.setState({passwordStrength: 'Your password is good to go!'})\r\n\r\n    if (e.currentTarget.value==='') this.setState({errorMsg: ''})\r\n  }\r\n\r\n  clearError=(e)=>{\r\n    if (e.currentTarget.value==='') this.setState({errorMsg: ''})\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div className=\"body\">\r\n\r\n        <NavBar />\r\n                \r\n        {/* add condition to render only if logged in */}\r\n        <SideBar loggedInUser= {this.state.loggedInUser} usertype= {this.state.usertype} onLogout={this.handleLogOut}/>     \r\n\r\n        <Switch>\r\n\r\n          {/* Public routes */}\r\n          <Route exact path=\"/\" render={() => <HomePage  doctorList1={this.state.doctorList}/>}/>      \r\n\r\n\r\n          {/* Routes for logged out users */}\r\n          {(!this.state.loggedInUser) ?\r\n            <>\r\n              <Route path=\"/login\" render={() => <Login errorMsg={this.state.errorMsg} onClear={this.clearError} onLogIn={this.handleLogIn}/>}/> \r\n              <Route path=\"/signup\" render={() => <Signup onPass={this.handlePass} passwordStrength={this.state.passwordStrength} onClear={this.clearError} errorMsg={this.state.errorMsg} onSignUp={this.handleSignUp}/>}/>\r\n              <Route path=\"/doctor/:doctorId\" render={routeProps=> <Login onClear={this.clearError} errorMsg={this.state.errorMsg} onLogIn={this.handleLogIn}/>}/>\r\n            </>\r\n            : null}\r\n          \r\n\r\n          {/* Routes for doctors */}\r\n          {(this.state.usertype==='doctor')?\r\n            <>\r\n              <Route exact path=\"/calendar\" render={(routeProps) => {\r\n                return <DoctorCalendar loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }}/>\r\n              <Route path=\"/calendar/:appointmentId\" render={(routeProps) => {\r\n                return <AppointmentDetails loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }}/>\r\n              <Route path=\"/doctor/:doctorId\" render={routeProps=> <DoctorProfile loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }/>\r\n              <Route path=\"/create-prescription/:appointmentId\" render={routeProps=> <CreatePrescription loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }/>\r\n            </>\r\n            :null}\r\n\r\n \r\n          {/* Routes for patients */}\r\n          {(this.state.usertype==='patient')?\r\n            <>\r\n              <Route path=\"/profile\" render={(routeProps) => {\r\n                return <PatientProfile loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }}/>\r\n\r\n              <Route path=\"/appointments\" render={(routeProps) => {\r\n                return <PatientAppointments loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }}/>\r\n\r\n              <Route path=\"/medication-planner\" render={(routeProps) => {\r\n                return <PatientMedPlanner loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n              }}/>\r\n              \r\n              <Route path=\"/doctor/:doctorId\" render={routeProps=> <DoctorProfile loggedInUser={this.state.loggedInUser} usertype={this.state.usertype} {...routeProps}/>\r\n            }/>\r\n            </>\r\n            : null }\r\n        \r\n           \r\n        </Switch>\r\n\r\n        <footer>\r\n          <h4><strong>Take care of your health!</strong></h4>\r\n        </footer>\r\n      \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withRouter(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {BrowserRouter} from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}