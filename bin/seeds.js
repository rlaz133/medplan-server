// require('../configs/db.config');
// const {connection, isValidObjectId} = require('mongoose');
// const {PatientModel, DoctorModel} = require('../models/User.models')
// const {AppointmentModel, PrescriptionModel} = require('../models/Tools.models')

//First step. Make sure the other steps are commented out and seed the patients, doctors and prescriptions.

// PatientModel.insertMany([
//   {
//     username: 'John Doe',
//     email: 'JohnDoe@user.com',
//     passwordHash: '$2y$10$mtQWIvlJZyuC4.SxQ/IAzujTt2nbT.puJJ.oEMeugl62qe8JQWzPC', //User123!
//     address: 'something street, OneCity',
//     allergies: ['nuts'],
//     history: ['major surgery 2 years ago']
//   },
//   {
//     username: 'Jane Doette',
//     email: 'JaneDoette@user.com',
//     passwordHash: '$2y$10$mtQWIvlJZyuC4.SxQ/IAzujTt2nbT.puJJ.oEMeugl62qe8JQWzPC', //User123!
//     address: 'someone promenade, TwoCity',
//     history: ['chronic rheumatism']
//   },
//   {
//     username: 'Pedro Anon',
//     email: 'pedronanon@user.com',
//     passwordHash: '$2y$10$mtQWIvlJZyuC4.SxQ/IAzujTt2nbT.puJJ.oEMeugl62qe8JQWzPC', //User123!
//     address: 'somewhere square, ThreeCity',
//     allergies: ['lactose']
//   }
// ])
//   .then(()=>{
//     console.log('Connection closed');
//     connection.close()
//       .catch(()=> console.log ('Failed to close connection'))
//   })
//   .catch((err)=> console.log ('Failed to insert seeds. Reason: ', err))


// DoctorModel.insertMany([
//   {
//     username: 'Gregory House',
//     email: 'gregoryhouse@user.com',
//     passwordHash: '$2y$10$mtQWIvlJZyuC4.SxQ/IAzujTt2nbT.puJJ.oEMeugl62qe8JQWzPC', //User123!
//     address: 'someother street, OneCity',
//     speciality: 'general medicine',
//     businessHours:{
//       daysofWeek:[1,2,3,4],
//       startTime: '09:00',
//       endTime: '16:00'
//     },
//     phone: '99 111 22 33',
//   },
//   {
//     username: 'Marie Curie',
//     email: 'mariecurie@user.com',
//     passwordHash: '$2y$10$mtQWIvlJZyuC4.SxQ/IAzujTt2nbT.puJJ.oEMeugl62qe8JQWzPC', //User123!
//     address: 'someone promenade, ThreeCity',
//     speciality: 'radiology',
//     businessHours:{
//       daysofWeek:[1,2,3,4,5],
//       startTime: '09:00',
//       endTime: '19:00'
//     },
//     phone: '99 444 55 66',
//   },
//   {
//     username: 'John Snow',
//     email: 'johnsnow@user.com',
//     passwordHash: '$2y$10$mtQWIvlJZyuC4.SxQ/IAzujTt2nbT.puJJ.oEMeugl62qe8JQWzPC', //User123!
//     address: 'someone promenade, TwoCity',
//     speciality: 'epidemiology',
//     businessHours:{
//       daysofWeek:[1,2,3,4,5],
//       startTime: '09:00',
//       endTime: '17:30'
//     },
//     phone: '99 777 88 99',
//   },
// ])
// .then(()=>{
//   console.log('Connection closed');
//   connection.close()
//     .catch(()=> console.log ('Failed to close connection'))
// })
// .catch((err)=> console.log ('Failed to insert seeds. Reason: ', err))

// PrescriptionModel.insertMany([
//   {
//     medications:[
//       {
//         name: 'AntiBio',
//         dosePerTake: '1g',
//         frecuency:{
//           takesPerDay: 3,
//           daysPerTake: 1
//         },
//         startDate: Date('2020-08-30'),
//         endDate: Date('2020-09-13'),
//         comments: 'Make sure to finish treatment even if you feel better already'
//       },
//       {
//         name: 'TummyProtector',
//         dosePerTake: '650mg',
//         frecuency:{
//           takesPerDay: 1,
//           daysPerTake: 1
//         },
//         startDate: Date('2020-08-30'),
//         endDate: Date('2020-09-13'),
//         comments: 'Take after meals'
//       }
//     ]
//   },
//   {
//     medications:[
//       {
//         name: 'PainAway',
//         dosePerTake: '1g',
//         frecuency:{
//           takesPerDay: 1,
//           daysPerTake: 2
//         },
//         startDate: Date('2020-09-05'),
//         endDate: Date('2020-10-05'),
//         comments: 'Avoid driving six hours after taking the medication'
//       },
//       {
//         name: 'EyeDrop',
//         dosePerTake: '2 drops',
//         frecuency:{
//           takesPerDay: 3,
//           daysPerTake: 1
//         },
//         startDate: Date('2020-09-05'),
//         endDate: Date('2020-10-05'),
//         comments: 'Don\'t look at the light'
//       }
//     ]
//   },
// ])
// .then(()=>{
//     console.log('Connection closed');
//     connection.close()
//       .catch(()=> console.log ('Failed to close connection'))
//   })
//   .catch((err)=> console.log ('Failed to insert seeds. Reason: ', err))

// Now seed the appointments and update the patients with their prescriptions, using the IDs generated by mongodb where appropiate

// AppointmentModel.insertMany([
//   {
//     doctor:'5f46878e7fb7291eb0761244',
//     patient:'5f46878e7fb7291eb0761241',
//     time: Date(2020-08-26),
//     reason: 'Eye pain',
//     prescription: '5f468baad7c7623db07362de'
//   },
//   {
//     doctor:'5f46878e7fb7291eb0761245',
//     patient:'5f46878e7fb7291eb0761241',
//     time: Date(2020-08-28),
//     reason: 'Eye pain',
//     prescription: '5f468baad7c7623db07362e1'
//   }
// ])
// .then(()=>{
//       console.log('Connection closed');
//       connection.close()
//         .catch(()=> console.log ('Failed to close connection'))
//     })
//     .catch((err)=> console.log ('Failed to insert seeds. Reason: ', err))